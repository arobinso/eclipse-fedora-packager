<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Fedora Packager User Guide - Dist-Git Support</title>
		<link type="text/css" rel="stylesheet" href="../book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Dist-Git Support</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Eclipse-Fedora-Packager-User-Guide.html" title="Fedora Packager User Guide">
						<img alt="Previous" border="0" src="../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Feedback-Reporting-Bugs.html" title="Feedback/Reporting Bugs">
						<img alt="Next" border="0" src="../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Fedora Packager User Guide</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Feedback/Reporting Bugs</td>
			</tr>
		</table><hr/>
		<h1 id="Dist-Git_Support">Dist-Git Support</h1>
		<p>Since release 14 Fedora uses the Git version control system for keeping track of files required for Fedora packaging. See the 
			<a href="https://fedoraproject.org/wiki/Dist_Git_Project">dist-git documentation</a> for in depth information about dist-git. Fortunately, you don't have to worry about how dist-git works when you are using the Eclipse Fedora Packager plug-in, except for the slightly different approach of doing your packaging work (compared to what you might have been used to when using CVS instead of Git).
		</p>
		<h2 id="Importing_a_Fedora_Git_Project">Importing a Fedora Git Project</h2>
		<p>Getting started is easy. Go to "File" =&gt; "Import" =&gt; "Git" =&gt; "Projects from Fedora Git". This will clone the desired Git repository and will create necessary local branches for you. Also for your convenience the "Git Repositories" view will open once the clone process has finished.</p>
		<p>
			<img alt="link=https://fedoraproject.org/w/uploads/c/ca/ImportFedoraGit.png" title="Image:ImportFedoraGit.png" border="0" src="images/ImportFedoraGit.png"/>
		</p>
		<p>Here's how the Fedora Git import dialog looks like. Next, you specify the package name which will then be prepared for you.</p>
		<p>
			<img title="Image:SelectPackageNameGit.png" alt="Image:SelectPackageNameGit.png" border="0" src="images/SelectPackageNameGit.png"/>
		</p>
		<p>Once the new project has been created you'll see something like the following. Note the branches in the Git Repository view and "
			<a href="eclipse-fedorapackager">master</a>" right beside the project name. 
			<i>eclipse-fedorapackager</i> in this case refers to the Git repository name and 
			<i>master</i> to the currently checked out branch.
		</p>
		<p>
			<img border="0" src="images/GitProjectBranchesView.png"/>
		</p>
		<h2 id="Do_Your_Fedora_Packaging_Work">Do Your Fedora Packaging Work</h2>
		<p>After your Fedora Git project has been created you will find all files required for packaging the desired release (e.g. Fedora 13, which would correspond to branch 
			<b>f13/master</b>. Branch 
			<b>master</b> corresponds to 
			<b>Fedora rawhide</b>, the current development release of Fedora). What follows is a brief description of things you might want to do while packaging up some software. You may choose to do work in a different sequence, but keep in mind that you have to push your changes to the public repository before you try to push a build to Koji.
		</p>
		<h3 id="Using_the_Spec-File_Editor">Using the Spec-File Editor</h3>
		<p>Eclipse Fedora Packager uses the RPM Editor and ChangeLog plug-in of the Eclipse Linux Tools project (
			<a href="http://www.eclipse.org/linuxtools">http://www.eclipse.org/linuxtools</a>). For instance you can easily create a new ChangeLog entry in your spec file by using the &lt;CTRL&gt;+&lt;ALT&gt;+C keyboard shortcut (you may want to set appropriate "ChangeLog" preferences first). Using &lt;CTRL&gt;+&lt;SPACE&gt; auto-completes locally installed packages. Also, you can run rpmlint by right-clicking on your spec file =&gt; "Run Rpmlint". For more information have a look at the spec file editor screencast: 
			<a href="http://www.eclipse.org/downloads/download.php?file=/technology/linuxtools/videos/specfile-demo.ogg">http://www.eclipse.org/downloads/download.php?file=/technology/linuxtools/videos/specfile-demo.ogg</a> or at the "Specfile Editor User Guide": Help =&gt; Help Contents =&gt; Specfile Editor User Guide.
		</p>
		<h3 id="Committing_Changes_to_Your_Local_Git_Repository">Committing Changes to Your Local Git Repository</h3>
		<p>After you've added/changed your spec-file, patches, etc. you want to commit those changes to your repository. You can do so by:</p>
		<ol>
			<li>Selecting the files you want to commit (alternatively select your Fedora Git project and select desired 
				<i>unstaged</i> files when the commit dialog is shown)
			</li>
			<li>Right-click, "Team" =&gt; "Commit..."</li>
		</ol>
		<p>
			<img border="0" src="images/GitCommit.png"/>
		</p>
		<h3 id="Switching_Branches_.28Git_Checkout.29">Switching Branches (Git Checkout)</h3>
		<p>Switching branches is as easy as double-clicking on the desired local branch you'd like to work on. The currently checked out branch is indicated to the left of the project name. Please make sure to commit, revert or stash changes before you switch to a different branch. Please refer to the Git/EGit documentation for more information on this.</p>
		<h3 id="Make_Locally_Committed_Changes_Public_.28Git_Push.29">Make Locally Committed Changes Public (Git Push)</h3>
		<p>When you are satisfied with your locally committed changes, you are ready to push (or publish) your changes publicly. Remember, Git allows you to rewrite history before you make your changes public. See Git/EGit documentation for more information. Here are the steps required to bring your local repository in synch with 
			<i>origin</i>:
		</p>
		<ol>
			<li>Select the Fedora Git project</li>
			<li>Right-click, "Team" =&gt; "Push..."</li>
			<li>Select the Git repository you want to push to (usually you want to keep this unchanged)</li>
			<li>Select Git references you want to push</li>
			<li>Carry out the push operation</li>
		</ol>
		<p>The Git push dialog.</p>
		<p>
			<img title="Git push dialog" alt="Git push dialog" border="0" src="images/GitPushDialog.png"/>
		</p>
		<p>Select the Git references to push. In this example branches 
			<i>master</i> and 
			<i>f14/master</i> will get pushed. Keep in mind that source and destination references are the same for Eclipse Fedora Packager. You may also choose to click the "Add all branches spec" button for convenience, which would push commits to all of your local branches.
		</p>
		<p>
			<img title="Select Git References" alt="Select Git References" border="0" src="images/SelectGitReferencesToPush.png"/>
		</p>
		<h3 id="Prepare_Sources_for_a_Local_Build">Prepare Sources for a Local Build</h3>
		<p>Eclipse Fedora Packager will download and prepare sources right-clicking on the spec-file =&gt; "Fedora Packager" =&gt; "Prepare Sources for Build"</p>
		<p>
			<img border="0" src="images/PrepareSourcesForBuild.png"/>
		</p>
		<h3 id="Build_RPM_for_Your_Local_Architecture">Build RPM for Your Local Architecture</h3>
		<p>You can test if your spec-file builds properly by selecting it =&gt; "Fedora Packager" =&gt; "Build for Local Architecture". You should see output on your Eclipse console.</p>
		<p>You can also do a mock-build, if you so desire: "Fedora Packager" =&gt; "Local Build Using Mock". Just be aware that this might take a long time (&gt; 20 minutes) and requires you to have the <code>mock</code> package installed.</p>
		<h3 id="Pushing_a_Build_to_Koji">Pushing a Build to Koji</h3>
		<p>Once you are satisfied with your spec file, make sure to upload sources of your package, commit your changes to your local repository and then push your local changes to the remote repository. When this is done, you can push a build to Koji by right-clicking on your spec file =&gt; "Fedora Packager" =&gt; "Push Build to Koji".</p>
		<p>
			<img border="0" src="images/EclipseFedoraPackagerPushBuildToKoji.png"/>
		</p>
		<p>Eclipse will pop up a message telling you the Koji URL to track your build. Here is an example, how this message might look like:</p>
		<p>
			<img border="0" src="images/KojiBuildPopupMessage.png"/>
		</p><hr/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Eclipse-Fedora-Packager-User-Guide.html" title="Fedora Packager User Guide">
						<img alt="Previous" border="0" src="../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="Eclipse-Fedora-Packager-User-Guide.html" title="Fedora Packager User Guide">
						<img alt="Fedora Packager User Guide" border="0" src="../images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Feedback-Reporting-Bugs.html" title="Feedback/Reporting Bugs">
						<img alt="Next" border="0" src="../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Fedora Packager User Guide</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Feedback/Reporting Bugs</td>
			</tr>
		</table>
	</body>
</html>